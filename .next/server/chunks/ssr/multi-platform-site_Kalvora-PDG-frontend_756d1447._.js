module.exports=[64376,a=>{"use strict";let b=(0,a.i(48007).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],64376)},33305,a=>{"use strict";let b=(0,a.i(48007).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],33305)},12979,a=>{"use strict";let b=(0,a.i(48007).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],12979)},82326,a=>{"use strict";let b=(0,a.i(48007).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],82326)},3200,a=>{"use strict";let b=(0,a.i(48007).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],3200)},68932,a=>{"use strict";let b=(0,a.i(48007).default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);a.s(["EyeOff",()=>b],68932)},49238,a=>{"use strict";let b=(0,a.i(48007).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],49238)},38271,a=>{"use strict";var b=a.i(81697),c=a.i(77138),d=a.i(77068),e=a.i(26998),f=a.i(78378),g=a.i(35618),h=a.i(3200);let i=(0,a.i(48007).default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var j=a.i(49238),k=a.i(82326),l=a.i(33305),m=a.i(68932),n=a.i(64376),o=a.i(12979),p=a.i(91816);function q(){let[a,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)("all"),[x,y]=(0,c.useState)("all"),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(""),F=async()=>{try{s(!0);let a=localStorage.getItem("token");if(!a)return;let b="http://localhost:4000/api/v1/vendor/products?limit=100";"all"!==x&&(b+=`&status=${x}`),"all"!==v&&(b+=`&category=${v}`),t&&(b+=`&search=${encodeURIComponent(t)}`);let c=await fetch(b,{headers:{Authorization:`Bearer ${a}`}});if(!c.ok)throw Error("Erreur lors du chargement");let d=await c.json();q(d.products||[])}catch(a){console.error("Erreur:",a),E("Impossible de charger les produits")}finally{s(!1)}};(0,c.useEffect)(()=>{F()},[x,v]),(0,c.useEffect)(()=>{let a=setTimeout(()=>{""!==t&&F()},500);return()=>clearTimeout(a)},[t]);let G=async b=>{try{let c=localStorage.getItem("token");if(!c)return;let d="published"===b.status?"draft":"published";if(!(await fetch(`http://localhost:4000/api/v1/vendor/products/${b.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({status:d})})).ok)throw Error("Erreur lors de la mise à jour");q(a.map(a=>a.id===b.id?{...a,status:d}:a))}catch(a){console.error("Erreur:",a),E("Impossible de modifier le statut")}},H=async b=>{try{C(!0);let c=localStorage.getItem("token");if(!c)return;if(!(await fetch(`http://localhost:4000/api/v1/vendor/products/${b}`,{method:"DELETE",headers:{Authorization:`Bearer ${c}`}})).ok)throw Error("Erreur lors de la suppression");q(a.filter(a=>a.id!==b)),A(null)}catch(a){console.error("Erreur:",a),E("Impossible de supprimer le produit")}finally{C(!1)}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Mes Produits"}),(0,b.jsxs)("p",{className:"text-muted-foreground mt-1",children:[a.length," produit",1!==a.length?"s":""," dans votre boutique"]})]}),(0,b.jsxs)(d.default,{href:"/market/publication-space/dashboard/add-product",className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-primary to-accent text-white rounded-lg hover:opacity-90 transition font-medium",children:[(0,b.jsx)(g.PlusCircle,{size:20}),"Ajouter un produit"]})]}),D&&(0,b.jsxs)("div",{className:"flex items-center gap-2 p-4 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400",children:[(0,b.jsx)(n.AlertCircle,{size:20}),D,(0,b.jsx)("button",{onClick:()=>E(""),className:"ml-auto",children:(0,b.jsx)(p.X,{size:18})})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(h.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:20}),(0,b.jsx)("input",{type:"text",placeholder:"Rechercher un produit...",value:t,onChange:a=>u(a.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg bg-card border border-border text-foreground focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition"})]}),(0,b.jsx)("select",{value:v,onChange:a=>w(a.target.value),className:"px-4 py-2 rounded-lg bg-card border border-border text-foreground focus:border-primary outline-none cursor-pointer",children:[{value:"all",label:"Toutes catégories"},{value:"template",label:"Templates"},{value:"design",label:"Designs"},{value:"service",label:"Services"},{value:"digital",label:"Digital"},{value:"other",label:"Autres"}].map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))}),(0,b.jsx)("select",{value:x,onChange:a=>y(a.target.value),className:"px-4 py-2 rounded-lg bg-card border border-border text-foreground focus:border-primary outline-none cursor-pointer",children:[{value:"all",label:"Tous les statuts"},{value:"published",label:"Publiés"},{value:"draft",label:"Brouillons"},{value:"archived",label:"Archivés"}].map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),r?(0,b.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,b.jsx)(o.Loader2,{className:"w-12 h-12 animate-spin text-primary"})}):0===a.length?(0,b.jsxs)("div",{className:"text-center py-20 px-4 rounded-xl bg-card border border-border",children:[(0,b.jsx)(f.Package,{className:"w-20 h-20 text-muted-foreground/30 mx-auto mb-6"}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Aucun produit"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Vous n'avez pas encore ajouté de produit. Commencez à vendre en ajoutant votre premier produit!"}),(0,b.jsxs)(d.default,{href:"/market/publication-space/dashboard/add-product",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary to-accent text-white rounded-lg hover:opacity-90 transition font-medium",children:[(0,b.jsx)(g.PlusCircle,{size:20}),"Ajouter mon premier produit"]})]}):(0,b.jsx)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(a=>(0,b.jsxs)("div",{className:`rounded-xl bg-card border border-border overflow-hidden hover:shadow-lg transition-shadow ${"published"!==a.status?"opacity-70":""}`,children:[(0,b.jsxs)("div",{className:"relative aspect-square bg-muted",children:[a.thumbnailUrl?(0,b.jsx)(e.default,{src:`http://localhost:4000${a.thumbnailUrl}`,alt:a.title,fill:!0,className:"object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,b.jsx)(f.Package,{className:"w-16 h-16 text-muted-foreground/30"})}),"draft"===a.status&&(0,b.jsx)("div",{className:"absolute top-2 left-2 px-2 py-1 bg-yellow-500 text-yellow-950 text-xs font-medium rounded",children:"Brouillon"}),"archived"===a.status&&(0,b.jsx)("div",{className:"absolute top-2 left-2 px-2 py-1 bg-gray-500 text-white text-xs font-medium rounded",children:"Archivé"}),(0,b.jsx)("div",{className:"absolute top-2 right-2",children:(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("button",{className:"p-2 bg-card/80 backdrop-blur-sm rounded-lg hover:bg-card transition",children:(0,b.jsx)(i,{size:16})}),(0,b.jsxs)("div",{className:"absolute right-0 top-full mt-1 w-40 bg-card border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10",children:[(0,b.jsxs)(d.default,{href:`/market/publication-space/dashboard/edit-product/${a.id}`,className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-muted transition",children:[(0,b.jsx)(j.Edit,{size:16}),"Modifier"]}),(0,b.jsx)("button",{onClick:()=>G(a),className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-muted transition w-full text-left",children:"published"===a.status?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.EyeOff,{size:16}),"Masquer"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Eye,{size:16}),"Publier"]})}),(0,b.jsxs)("button",{onClick:()=>A(a.id),className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-muted transition w-full text-left text-red-500",children:[(0,b.jsx)(k.Trash2,{size:16}),"Supprimer"]})]})]})})]}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-foreground truncate",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground capitalize",children:a.category}),(0,b.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"text-lg font-bold text-primary",children:[a.price," €"]}),a.comparePrice&&(0,b.jsxs)("span",{className:"text-sm text-muted-foreground line-through",children:[a.comparePrice," €"]})]}),(0,b.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Stock: ",a.stock]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mt-3 pt-3 border-t border-border text-xs text-muted-foreground",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(l.Eye,{size:14}),a.views," vues"]}),(0,b.jsxs)("span",{children:[a.sales," ventes"]})]})]})]},a.id))}),z&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-card rounded-xl p-6 max-w-md w-full border border-border",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsx)("div",{className:"p-3 rounded-full bg-red-500/10",children:(0,b.jsx)(n.AlertCircle,{className:"w-6 h-6 text-red-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-foreground",children:"Supprimer le produit?"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Cette action est irréversible."})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,b.jsx)("button",{onClick:()=>A(null),className:"px-4 py-2 rounded-lg border border-border hover:bg-muted transition",disabled:B,children:"Annuler"}),(0,b.jsxs)("button",{onClick:()=>H(z),className:"px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600 transition flex items-center gap-2",disabled:B,children:[B&&(0,b.jsx)(o.Loader2,{size:16,className:"animate-spin"}),"Supprimer"]})]})]})})]})}a.s(["default",()=>q],38271)}];

//# sourceMappingURL=multi-platform-site_Kalvora-PDG-frontend_756d1447._.js.map